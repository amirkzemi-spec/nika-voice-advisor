In practice, your institution may not be able to issue a CAS for a Student extension application in the UK if there is too long a period when you have no required participation on the course.
In this case, they will expect you to leave the UK once you are no longer required to attend your course, then return either with a new Student visa or as a Visitor for the re-sit.
Either a Student visa or a Visitor visa are fine for the re-sit itself, but if you then need more time to complete your course, it is important to understand that only someone with a Student visa can apply in the UK to extend their stay.